<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Horizontal Landscape Runner</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      overflow: hidden;
      background: url('file_0000000019e4722fa25345f043cf42ed.png') no-repeat center center / cover;
    }
    canvas {
      display: block;
      background: transparent;
    }
    .controls {
      position: fixed;
      bottom: 20px;
      right: 20px;
      z-index: 10;
    }
    button {
      width: 90px;
      height: 90px;
      font-size: 22px;
      border-radius: 50%;
      border: none;
      background: rgba(255,255,255,0.2);
      color: #fff;
    }
    button:active {
      background: rgba(255,255,255,0.35);
    }
  </style>
</head>
<body>
  <canvas id="canvas"></canvas>

  <div class="controls">
    <button id="rightBtn">â–¶</button>
  </div>

  <script>
    // === CANVAS SETUP ===
    var canvas = document.getElementById('canvas');
    var ctx = canvas.getContext('2d');

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener('resize', resizeCanvas);

    // === SPRITE INFO ===
    var cols = 3;
    var rows = 1;
    var frameCount = 3;
    var curFrame = 0;

    var sprite = new Image();
    sprite.src = 'ZomboDroid_05012026171631.png';

    var groundImg = new Image();
    groundImg.src = 'file_00000000ba6471f4917611ec1970cd28-removebg-preview.png';

    // frame size will be calculated AFTER image loads
    var frameWidth = 0;
    var frameHeight = 0;
    var groundHeight = 0;

    // === HORIZONTAL LANDSCAPE POSITIONING ===
    var characterX = 50;
    var characterY = 0;
    var groundY = 0;
    var speed = 8;
    var moveRight = false;

    // === FRAME TIMING ===
    var lastFrameTime = 0;
    var frameDelay = 120;

    sprite.onload = function () {
      frameWidth = (sprite.width / cols) * 0.55;  // REDUCED CHARACTER SIZE 55%
      frameHeight = (sprite.height / rows) * 0.55; // REDUCED CHARACTER SIZE 55%
      
      // Position ground LOWER and SMALLER
      groundY = canvas.height - 100;  // Brought down closer to bottom
      characterY = groundY - frameHeight - 10;
      
      // Smaller ground
      groundHeight = 80;  // Reduced from 160 to 80px
      
      requestAnimationFrame(gameLoop);
    };

    groundImg.onload = function () {
      // Ground image ready
    };

    function update(time) {
      if (time - lastFrameTime > frameDelay) {
        curFrame = (curFrame + 1) % frameCount;
        lastFrameTime = time;
      }

      if (moveRight) {
        characterX += speed;
      }

      if (characterX > canvas.width - frameWidth - 20) {
        characterX = canvas.width - frameWidth - 20;
      }

      if (!moveRight && characterX < 50) {
        characterX = 50;
      }
    }

    function drawGround() {
      // Much smaller ground image
      var groundScale = 0.6;  // Reduced scale from 1.2 to 0.6
      var groundWidth = groundImg.width * groundScale * 0.8;  // Further reduced width
      
      // Center ground under character
      var groundX = characterX - groundWidth / 3;
      
      ctx.drawImage(
        groundImg,
        0, 0, groundImg.width, groundImg.height,
        groundX, groundY,
        groundWidth, groundHeight
      );
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Draw ground first
      if (groundImg.complete) {
        drawGround();
      }

      // Draw smaller character sprite
      var srcX = curFrame * (sprite.width / cols);
      var srcY = 0;

      ctx.drawImage(
        sprite,
        srcX, srcY,
        sprite.width / cols, sprite.height / rows,
        characterX, characterY,
        frameWidth, frameHeight
      );
    }

    function gameLoop(time) {
      update(time);
      draw();
      requestAnimationFrame(gameLoop);
    }

    // === CONTROLS ===
    var rightBtn = document.getElementById('rightBtn');

    rightBtn.addEventListener('touchstart', function (e) {
      e.preventDefault();
      moveRight = true;
    });
    rightBtn.addEventListener('touchend', function (e) {
      e.preventDefault();
      moveRight = false;
    });
    rightBtn.addEventListener('mousedown', function (e) {
      moveRight = true;
    });
    rightBtn.addEventListener('mouseup', function () {
      moveRight = false;
    });
  </script>
</body>
</html>
